{"remainingRequest":"E:\\HNU IMPORTANT\\大三下课程\\数据库系统设计\\实验5\\后端\\movie\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HNU IMPORTANT\\大三下课程\\数据库系统设计\\实验5\\后端\\movie\\src\\components\\managermovie.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HNU IMPORTANT\\大三下课程\\数据库系统设计\\实验5\\后端\\movie\\src\\components\\managermovie.vue","mtime":1623843320620},{"path":"E:\\HNU IMPORTANT\\大三下课程\\数据库系统设计\\实验5\\后端\\movie\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\HNU IMPORTANT\\大三下课程\\数据库系统设计\\实验5\\后端\\movie\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\HNU IMPORTANT\\大三下课程\\数据库系统设计\\实验5\\后端\\movie\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJtYW5hZ2VybW92aWUiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjYXRlOiBbDQogICAgICAvLyAge2NhdGU6ICcnfQ0KICAgICAgXSwNCiAgICAgIGNhbXBhbnk6IFsNCiAgICAgIC8vICAge2NhbXBhbnk6ICcnfQ0KICAgICAgXSwNCiAgICAgIC8vIG9wdGlvbjI6IFtdLA0KDQogICAgICBsb2FkaW5nOiB0cnVlLA0KICAgICAgLy8gICDooajmoLznmoTmlbDmja4NCiAgICAgIHRhYmxlRGF0YTogWw0KICAgICAgICB7DQogICAgICAgICAgbmFtZTogIiIsDQogICAgICAgICAgaWQ6ICIiLA0KICAgICAgICAgIGJpcnRoZGF5OiAiIiwNCiAgICAgICAgICB0aW1lOiAiIiwNCiAgICAgICAgICBsYW5nOiAiIiwNCiAgICAgICAgICBjb3VudHJ5OiAiIiwNCiAgICAgICAgICBicmllZjogIiIsDQogICAgICAgICAgc2NvcmU6ICIiLA0KICAgICAgICAgIHBpYzogIiIsDQogICAgICAgICAgY2F0ZTogW10sDQogICAgICAgICAgY2FtcGFueTogW10sDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLA0KICAgICAgZm9ybUxhYmVsV2lkdGg6ICIxODBweCIsDQogICAgICAvLyDorr7nva5mb3Jt55So5LqO6L+b6KGM5re75Yqg55qE5pe25YCZ57uR5a6a5YC8DQogICAgICBmb3JtOiB7DQogICAgICAgIG5hbWU6ICIiLA0KICAgICAgICBpZDogIiIsDQogICAgICAgIGJpcnRoZGF5OiAiIiwNCiAgICAgICAgdGltZTogIiIsDQogICAgICAgIGxhbmc6ICIiLA0KICAgICAgICBjb3VudHJ5OiAiIiwNCiAgICAgICAgYnJpZWY6ICIiLA0KICAgICAgICBzY29yZTogIiIsDQogICAgICAgIHBpYzogIjE0LmpwZyIsDQogICAgICAgIGNhdGU6ICIiLA0KICAgICAgICBjYW1wYW55OiAiIiwNCiAgICAgIH0sDQogICAgICBydWxlczogew0KICAgICAgICBpZDogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaUiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sDQogICAgICAgIG5hbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWlIiwgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgICBiaXJ0aGRheTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaUiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sDQogICAgICAgIHRpbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWlIiwgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgICBsYW5nOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpSIsIHRyaWdnZXI6ICJibHVyIiB9XSwNCiAgICAgICAgLy8gaW1hZ2U6Ww0KICAgICAgICAvLyAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaUiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgLy8gXSwNCiAgICAgICAgY291bnRyeTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaUiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sDQogICAgICAgIGJyaWVmOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpSIsIHRyaWdnZXI6ICJibHVyIiB9XSwNCiAgICAgICAgc2NvcmU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWlIiwgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgICBjYXRlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpSIsIHRyaWdnZXI6ICJibHVyIiB9XSwNCiAgICAgICAgY2FtcGFueTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaUiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sDQogICAgICB9LA0KICAgICAgY3VycmVudEluZGV4OiAiIiwNCiAgICAgIG1hcms6IDAsDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICAvLyAgIOiuvue9ruWbnuiwg+WHveaVsO+8jOi/m+ihjDEuNeenkueahGxvYWRpbmfliqjnlLvmmL7npLoNCiAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgIH0sIDE1MDApOw0KICAgIHRoaXMuZ2V0Y2F0ZSgpOw0KICAgIHRoaXMuZ2V0Y2FtcGFueSgpOw0KICAgIHRoaXMuZ2V0VGFibGVEYXRhKCk7DQogIH0sDQogIHdhdGNoOiB7DQogICAgLy8yLnjniYjmnKznmoRidWcg5Lul5YmN55SoMS545Y+R546w5rKh5pyJIOWBh+WmgueOsOWcqOaYr+esrOS4iemhte+8jOWPquacieS4gOadoeaVsOaNruS6huOAguWwhuWFtuWIoOmZpO+8jOWwseayoeacieesrOS4iemhteS6huOAguW6lOivpei3s+WIsOesrOS6jOmhteWxleekuuWHujXmnaHmlbDmja7jgIINCiAgICAvL+WPr+aYr+aVsOaNruayoeacieWxleekuuOAguWOn+WboOaYr+iOt+WPlmxpc3TnmoTml7blgJlwYWdl5Y+C5pWw5rKh5pyJ5pS55Y+Y44CC5L6d54S25pivMw0KICAgIHRvdGFsKCkgew0KICAgICAgaWYgKHRoaXMudG90YWwgPT0gKHRoaXMucGFnZSAtIDEpICogdGhpcy5zaXplICYmIHRoaXMudG90YWwgIT0gMCkgew0KICAgICAgICB0aGlzLnBhZ2UgLT0gMTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0Y2F0ZSgpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsNCiAgICAgIGF4aW9zLmdldCgiaHR0cDovLzEyMS41LjEwOS42Njo4MTgxL2dldGNhdGVOYW1lIikudGhlbihmdW5jdGlvbiAocmVzcCkgew0KICAgICAgICBjb25zb2xlLmxvZyhyZXNwLmRhdGEpOw0KICAgICAgICBfdGhpcy4kZGF0YS5jYXRlID0gcmVzcC5kYXRhOw0KICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy4kZGF0YS5jYXRlKTsNCiAgICAgIH0pOw0KDQogICAgfSwNCiAgICBnZXRjYW1wYW55KCkgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vMTIxLjUuMTA5LjY2OjgxODEvZ2V0Y2FtcGFueU5hbWUiKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7DQogICAgICAgIGNvbnNvbGUubG9nKHJlc3AuZGF0YSk7DQogICAgICAgIF90aGlzLiRkYXRhLmNhbXBhbnkgPSByZXNwLmRhdGE7DQogICAgICAgIGNvbnNvbGUubG9nKF90aGlzLiRkYXRhLmNhbXBhbnkpOw0KICAgICAgIA0KICAgICAgfSk7IA0KICAgIH0sDQogICAgZ2V0VGFibGVEYXRhKCkgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vMTIxLjUuMTA5LjY2OjgxODEvZ2V0ZmlsbSIpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhKTsNCiAgICAgICAgX3RoaXMuJGRhdGEudGFibGVEYXRhID0gcmVzcC5kYXRhOw0KICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy4kZGF0YS50YWJsZURhdGEpOw0KICAgICAgICAvL3ZhciBhcnIgPSBbXQ0KICAgICAgICAvL2Fyci5wdXNoKHtuYW1lOnJlc3AuZGF0YS5uYW1lLGlkOnJlc3AuZGF0YS5pZCxiaXJ0aGRheTpyZXNwLmRhdGEuYmlydGhkYXksbGFuZzpyZXNwLmRhdGEubGFuZyxjb3VudHJ5OnJlc3AuZGF0YS5jb3VudHJ5LGJyaWVmOnJlc3AuZGF0YS5icmllZixzY29yZTpyZXNwLmRhdGEuc2NvcmUscGljOnJlc3AuZGF0YS5waWN9KQ0KICAgICAgICAvL3RoaXMuJGRhdGEubW92aWVzPWFycjsNCiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLiRkYXRhLm1vdmllcyk7DQogICAgICB9KTsNCiAgICB9LA0KDQogICAgLy8g5aKe5Yqg5pWw5o2u55qE5pa55byP77yM5Y2V54us55qE6K6+572u5LiA5Lqb5YC877yM55So5LqO5aKe5Yqg5Yqf6IO977yM6L+Z5Lqb5YC85pS+5Zyo5a+56LGh6YeM6Z2i6L+b6KGM6K6+572u77yM54S25ZCO5bCG6L+Z5Liq5paw5aKe55qE5a+56LGh5aGe5Yiw5oC75pWw5o2u6YeM6Z2iDQogICAgYWRkKCkgew0KICAgICAgdGhpcy5mb3JtID0gew0KICAgICAgICBuYW1lOiAiIiwNCiAgICAgICAgaWQ6ICIiLA0KICAgICAgICBiaXJ0aGRheTogIiIsDQogICAgICAgIHRpbWU6ICIiLA0KICAgICAgICBsYW5nOiAiIiwNCiAgICAgICAgY291bnRyeTogIiIsDQogICAgICAgIGJyaWVmOiAiIiwNCiAgICAgICAgc2NvcmU6ICIiLA0KICAgICAgICBwaWM6ICIxNC5qcGciLA0KICAgICAgICBjYXRlOiAiIiwNCiAgICAgICAgY2FtcGFueTogIiIsDQogICAgICAgDQogICAgICB9Ow0KICAgICAgdGhpcy5tYXJrID0gMjsNCiAgICAgIC8vICAg6K6+572u54K55Ye75oyJ6ZKu5LmL5ZCO6L+b6KGM5pi+56S65a+56K+d5qGGDQogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIHVwZGF0ZShmb3JtTmFtZSkgew0KICAgICAgY29uc3QgX3RoaXM9dGhpczsNCiAgICAgIGlmIChfdGhpcy5tYXJrID4gMSkgX3RoaXMubWFyayA9IDA7DQogICAgICBfdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIGF4aW9zDQogICAgICAgICAgICAucG9zdCgiaHR0cDovLzEyMS41LjEwOS42Njo4MTgxL3VwZGF0ZWZpbG0iLCBfdGhpcy5mb3JtKQ0KICAgICAgICAgICAgLnRoZW4oKHJlc3ApID0+IHsNCiAgICAgICAgICAgICAgbGV0IGRhdGEgPSByZXNwLmRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgX3RoaXMudGFibGVEYXRhLnB1c2goX3RoaXMuZm9ybSk7DQogICAgICAgICAgICAgIF90aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlRWRpdChpbmRleCwgcm93KSB7DQogICAgICBpZiAodGhpcy5tYXJrID4gMSkgdGhpcy5tYXJrID0gMDsNCiAgICAgIC8vIOWwhuaVsOaNrueahGluZGV45Lyg6YCS6L+H5p2l55So5LqO5a6e546w5pWw5o2u55qE5Zue5pi+DQogICAgICB0aGlzLmZvcm0gPSB0aGlzLnRhYmxlRGF0YVtpbmRleCArICh0aGlzLnBhZ2UgLSAxKSAqIHRoaXMuc2l6ZV07DQogICAgICAvLyDorr7nva7lr7nor53moYbnmoTlj6/op4ENCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgaGFuZGxlRGVsZXRlKGluZGV4LCByb3cpIHsNCiAgICAgIC8vIOiuvue9ruexu+S8vOS6jmNvbnNvbGXnsbvlnovnmoTlip/og70NCiAgICAgIHRoaXMuJGNvbmZpcm0oIuawuOS5heWIoOmZpCwg5piv5ZCm57un57utPyIsICLmj5DnpLoiLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgIH0pDQogICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICBjb25zdCBfdGhpcz10aGlzOw0KICAgICAgICAgIGF4aW9zDQogICAgICAgICAgICAucG9zdCgiaHR0cDovLzEyMS41LjEwOS42Njo4MTgxL2RlbGV0ZWZpbG0iLCByb3cpDQogICAgICAgICAgICAudGhlbigocmVzcCkgPT4gew0KICAgICAgICAgICAgICBfdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIHR5cGU6ICJpbmZvIiwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLlt7Llj5bmtojliKDpmaQiLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGNhbmNlbCgpIHsNCiAgICAgIGlmICh0aGlzLm1hcmsgPiAxKSB0aGlzLm1hcmsgPSAwOw0KICAgICAgLy8g5Y+W5raI55qE5pe25YCZ55u05o6l6K6+572u5a+56K+d5qGG5LiN5Y+v6KeB5Y2z5Y+vDQogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7DQogICAgfSwNCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy5zaXplID0gdmFsOw0KICAgIH0sDQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMucGFnZSA9IHZhbDsNCiAgICB9LA0KICAgIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzLCBmaWxlKSB7DQogICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICBtZXNzYWdlOiAi5Zu+54mH5LiK5Lyg5oiQ5YqfLOehruiupOWQjuWIt+aWsOWPr+ingSIsDQogICAgICB9KTsNCiAgICAgIC8vIHRoaXMuZm9ybS5pbWFnZSA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZS5yYXcpOw0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy5mb3JtLmltYWdlKTsNCiAgICB9LA0KICAgIGJlZm9yZUF2YXRhclVwbG9hZChmaWxlKSB7DQogICAgICAvLyBjb25zdCBpc0pQRyA9IGZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZWcnOw0KICAgICAgY29uc3QgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyOw0KDQogICAgICAvLyBpZiAoIWlzSlBHKSB7DQogICAgICAvLyAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWktOWDj+WbvueJh+WPquiDveaYryBKUEcg5qC85byPIScpOw0KICAgICAgLy8gaXNKUEcgJiZ9DQogICAgICBpZiAoIWlzTHQyTSkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLkuIrkvKDlpLTlg4/lm77niYflpKflsI/kuI3og73otoXov4cgMk1CISIpOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIGlzTHQyTTsNCiAgICB9LA0KICAgIGhhbmRsZUF2YXRhckZhaWwoZmlsZSwgZmlsZUxpc3QpIHsNCiAgICAgIGNvbnNvbGUubG9nKCLmlofku7blt7Looqvnp7vliqgiKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["managermovie.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"managermovie.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <el-menu\r\n        :default-active=\"this.$route.path\"\r\n        class=\"el-menu-demo\"\r\n        mode=\"horizontal\"\r\n        background-color=\"#545c64\"\r\n        text-color=\"#fff\"\r\n        active-text-color=\"#ffd04b\"\r\n      >\r\n        <el-menu-item index=\"1\">电影信息</el-menu-item>\r\n      </el-menu>\r\n      <br />\r\n      <!-- 点击触发add方法 -->\r\n      <el-button type=\"primary\" @click=\"add\">新增</el-button>\r\n      <el-table :data=\"tableData\" style=\"text-align: center; width: 100%\">\r\n          <el-table-column\r\n          prop=\"name\"\r\n          label=\"电影名称\"\r\n          width=\"50\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"id\"\r\n          label=\"电影编号\"\r\n          width=\"50\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"birthday\"\r\n          label=\"时间\"\r\n          width=\"50\"\r\n        ></el-table-column>\r\n        <el-table-column prop=\"time\" label=\"时长\" width=\"40\"></el-table-column>\r\n        <el-table-column prop=\"lang\" label=\"语言\" width=\"50\"></el-table-column>\r\n\r\n        <el-table-column\r\n          prop=\"country\"\r\n          label=\"国家\"\r\n          width=\"50\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"brief\"\r\n          label=\"简介\"\r\n          width=\"300\"\r\n        ></el-table-column>\r\n        <el-table-column prop=\"score\" label=\"评分\" width=\"40\"></el-table-column>\r\n        <el-table-column prop=\"pic\" label=\"图片\" width=\"50\"></el-table-column>\r\n        <el-table-column prop=\"cate\" label=\"分类\" width=\"50\"></el-table-column>\r\n        <el-table-column\r\n          prop=\"campany\"\r\n          label=\"出品公司\"\r\n          width=\"100\"\r\n        ></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"80\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 点击编辑进入编辑页面进行编辑表格数据\r\n            <el-button size=\"small\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button> -->\r\n            <el-button\r\n              size=\"small\"\r\n              type=\"danger\"\r\n              @click=\"handleDelete(scope.$index, scope.row)\"\r\n              >删除</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n\r\n    <!-- 下面这个用来设置点击添加按钮的弹出框，里面可以进行嵌套表格来展示弹出的表格信息,使用下面的:visible.sync来控制显示与否 -->\r\n    <!-- 里面绑定的是我们新设置的值，填写完成后，将我们这个新值塞到页面中所有的数据当中去 -->\r\n    <el-dialog title=\"新增电影信息\" :visible.sync=\"dialogFormVisible\">\r\n      <!-- 在el-dialog中进行嵌套el-form实现弹出表格的效果 -->\r\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"form\">\r\n        <el-form-item\r\n          label=\"电影编号(不允许重复)\"\r\n          prop=\"id\"\r\n          :label-width=\"formLabelWidth\"\r\n        >\r\n          <el-input\r\n            v-if=\"mark > 0\"\r\n            v-model=\"form.id\"\r\n            auto-complete=\"off\"\r\n          ></el-input>\r\n          <el-input\r\n            v-else\r\n            v-model=\"form.id\"\r\n            auto-complete=\"off\"\r\n            disabled\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"电影名称\"\r\n          prop=\"name\"\r\n          :label-width=\"formLabelWidth\"\r\n        >\r\n          <el-input v-model=\"form.name\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"出品时间\"\r\n          prop=\"birthday\"\r\n          :label-width=\"formLabelWidth\"\r\n        >\r\n          <el-input v-model=\"form.birthday\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"电影时长\"\r\n          prop=\"time\"\r\n          :label-width=\"formLabelWidth\"\r\n        >\r\n          <el-input v-model=\"form.time\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"类别\" prop=\"cate\" :label-width=\"formLabelWidth\">\r\n          <el-select v-model=\"form.cate\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"(item,index) in cate\"\r\n              :key=\"index\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n<!--\r\n        <el-form-item\r\n          label=\"图片\"\r\n          prop=\"pic\"\r\n          :label-width=\"formLabelWidth\"\r\n        >\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            action=\"http://121.5.109.66:8181/upload\"\r\n            :show-file-list=\"false\"\r\n            :on-remove=\"handleAvatarFail\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            :before-upload=\"beforeAvatarUpload\"\r\n          >\r\n            <img\r\n              v-if=\"form.pic\"\r\n              :src=\"require(`../assets/${form.pic}`)\"\r\n              class=\"avatar\"\r\n            />\r\n            <i class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </el-form-item>\r\n-->\r\n\r\n\r\n        <el-form-item\r\n          label=\"出品公司\"\r\n          prop=\"campany\"\r\n          :label-width=\"formLabelWidth\"\r\n        >\r\n          <el-select\r\n            v-model=\"form.campany\"\r\n            placeholder=\"请选择\"\r\n      \r\n          >\r\n            <el-option\r\n              v-for=\"item in campany\"\r\n              :key=\"item.index\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"语言\" prop=\"lang\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.lang\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"国家\" prop=\"country\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.country\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"简介\" prop=\"brief\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.brief\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"评分\" prop=\"score\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.score\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item style=\"text-align: right\">\r\n          <el-button @click=\"cancel\">取 消</el-button>\r\n          <!-- 设置触发更新的方法 -->\r\n          <el-button type=\"primary\" @click=\"update('form')\">确 定</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nexport default {\r\n  name: \"managermovie\",\r\n  data() {\r\n    return {\r\n      cate: [\r\n      //  {cate: ''}\r\n      ],\r\n      campany: [\r\n      //   {campany: ''}\r\n      ],\r\n      // option2: [],\r\n\r\n      loading: true,\r\n      //   表格的数据\r\n      tableData: [\r\n        {\r\n          name: \"\",\r\n          id: \"\",\r\n          birthday: \"\",\r\n          time: \"\",\r\n          lang: \"\",\r\n          country: \"\",\r\n          brief: \"\",\r\n          score: \"\",\r\n          pic: \"\",\r\n          cate: [],\r\n          campany: [],\r\n        },\r\n      ],\r\n      dialogFormVisible: false,\r\n      formLabelWidth: \"180px\",\r\n      // 设置form用于进行添加的时候绑定值\r\n      form: {\r\n        name: \"\",\r\n        id: \"\",\r\n        birthday: \"\",\r\n        time: \"\",\r\n        lang: \"\",\r\n        country: \"\",\r\n        brief: \"\",\r\n        score: \"\",\r\n        pic: \"14.jpg\",\r\n        cate: \"\",\r\n        campany: \"\",\r\n      },\r\n      rules: {\r\n        id: [{ required: true, message: \"请输入\", trigger: \"blur\" }],\r\n        name: [{ required: true, message: \"请输入\", trigger: \"blur\" }],\r\n        birthday: [{ required: true, message: \"请输入\", trigger: \"blur\" }],\r\n        time: [{ required: true, message: \"请输入\", trigger: \"blur\" }],\r\n        lang: [{ required: true, message: \"请输入\", trigger: \"blur\" }],\r\n        // image:[\r\n        //   { required: true, message: \"请输入\", trigger: \"blur\" },\r\n        // ],\r\n        country: [{ required: true, message: \"请输入\", trigger: \"blur\" }],\r\n        brief: [{ required: true, message: \"请输入\", trigger: \"blur\" }],\r\n        score: [{ required: true, message: \"请输入\", trigger: \"blur\" }],\r\n        cate: [{ required: true, message: \"请输入\", trigger: \"blur\" }],\r\n        campany: [{ required: true, message: \"请输入\", trigger: \"blur\" }],\r\n      },\r\n      currentIndex: \"\",\r\n      mark: 0,\r\n    };\r\n  },\r\n  created() {\r\n    //   设置回调函数，进行1.5秒的loading动画显示\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n    }, 1500);\r\n    this.getcate();\r\n    this.getcampany();\r\n    this.getTableData();\r\n  },\r\n  watch: {\r\n    //2.x版本的bug 以前用1.x发现没有 假如现在是第三页，只有一条数据了。将其删除，就没有第三页了。应该跳到第二页展示出5条数据。\r\n    //可是数据没有展示。原因是获取list的时候page参数没有改变。依然是3\r\n    total() {\r\n      if (this.total == (this.page - 1) * this.size && this.total != 0) {\r\n        this.page -= 1;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    getcate() {\r\n      const _this = this;\r\n      axios.get(\"http://121.5.109.66:8181/getcateName\").then(function (resp) {\r\n        console.log(resp.data);\r\n        _this.$data.cate = resp.data;\r\n        console.log(_this.$data.cate);\r\n      });\r\n\r\n    },\r\n    getcampany() {\r\n      const _this = this;\r\n      axios.get(\"http://121.5.109.66:8181/getcampanyName\").then(function (resp) {\r\n        console.log(resp.data);\r\n        _this.$data.campany = resp.data;\r\n        console.log(_this.$data.campany);\r\n       \r\n      }); \r\n    },\r\n    getTableData() {\r\n      const _this = this;\r\n      axios.get(\"http://121.5.109.66:8181/getfilm\").then(function (resp) {\r\n        console.log(resp.data);\r\n        _this.$data.tableData = resp.data;\r\n        console.log(_this.$data.tableData);\r\n        //var arr = []\r\n        //arr.push({name:resp.data.name,id:resp.data.id,birthday:resp.data.birthday,lang:resp.data.lang,country:resp.data.country,brief:resp.data.brief,score:resp.data.score,pic:resp.data.pic})\r\n        //this.$data.movies=arr;\r\n        //console.log(this.$data.movies);\r\n      });\r\n    },\r\n\r\n    // 增加数据的方式，单独的设置一些值，用于增加功能，这些值放在对象里面进行设置，然后将这个新增的对象塞到总数据里面\r\n    add() {\r\n      this.form = {\r\n        name: \"\",\r\n        id: \"\",\r\n        birthday: \"\",\r\n        time: \"\",\r\n        lang: \"\",\r\n        country: \"\",\r\n        brief: \"\",\r\n        score: \"\",\r\n        pic: \"14.jpg\",\r\n        cate: \"\",\r\n        campany: \"\",\r\n       \r\n      };\r\n      this.mark = 2;\r\n      //   设置点击按钮之后进行显示对话框\r\n      this.dialogFormVisible = true;\r\n    },\r\n    update(formName) {\r\n      const _this=this;\r\n      if (_this.mark > 1) _this.mark = 0;\r\n      _this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          axios\r\n            .post(\"http://121.5.109.66:8181/updatefilm\", _this.form)\r\n            .then((resp) => {\r\n              let data = resp.data.data;\r\n              _this.tableData.push(_this.form);\r\n              _this.dialogFormVisible = false;\r\n                window.location.reload();\r\n            });\r\n        }\r\n      });\r\n    },\r\n    handleEdit(index, row) {\r\n      if (this.mark > 1) this.mark = 0;\r\n      // 将数据的index传递过来用于实现数据的回显\r\n      this.form = this.tableData[index + (this.page - 1) * this.size];\r\n      // 设置对话框的可见\r\n      this.dialogFormVisible = true;\r\n    },\r\n    handleDelete(index, row) {\r\n      // 设置类似于console类型的功能\r\n      this.$confirm(\"永久删除, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          const _this=this;\r\n          axios\r\n            .post(\"http://121.5.109.66:8181/deletefilm\", row)\r\n            .then((resp) => {\r\n              _this.dialogFormVisible = false;\r\n              window.location.reload();\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n    },\r\n    cancel() {\r\n      if (this.mark > 1) this.mark = 0;\r\n      // 取消的时候直接设置对话框不可见即可\r\n      this.dialogFormVisible = false;\r\n    },\r\n    handleSizeChange(val) {\r\n      this.size = val;\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.page = val;\r\n    },\r\n    handleAvatarSuccess(res, file) {\r\n      this.$message({\r\n        type: \"success\",\r\n        message: \"图片上传成功,确认后刷新可见\",\r\n      });\r\n      // this.form.image = URL.createObjectURL(file.raw);\r\n      // console.log(this.form.image);\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      // const isJPG = file.type === 'image/jpeg';\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n      // if (!isJPG) {\r\n      //   this.$message.error('上传头像图片只能是 JPG 格式!');\r\n      // isJPG &&}\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\r\n      }\r\n      return isLt2M;\r\n    },\r\n    handleAvatarFail(file, fileList) {\r\n      console.log(\"文件已被移动\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style >\r\n</style>\r\n\r\n"]}]}